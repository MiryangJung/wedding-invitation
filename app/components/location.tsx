"use client";

import Script from "next/script";
import { container, links, title, link, info, icon } from "./location.css";
import Link from "next/link";
import SectionTitle from "./section-title";

declare global {
  interface Window {
    kakao: any;
  }
}

const kakaoMapUrl = "https://place.map.kakao.com/17192411";
const naverMapUrl = "https://naver.me/GJrFyntP";
const googleMapUrl = "https://maps.app.goo.gl/VG49SXPF5vnVPQuQA";

const maps = [
  {
    name: "카카오맵",
    url: kakaoMapUrl,
  },
  {
    name: "네이버지도",
    url: naverMapUrl,
  },
  {
    name: "구글맵스",
    url: googleMapUrl,
  },
];

export default function Location() {
  return (
    <section className={container}>
      <SectionTitle title="오시는 길" className={title} />
      <div className={links}>
        {maps.map((map) => (
          <Link href={map.url} target="_blank" key={map.name} className={link}>
            {map.name}
          </Link>
        ))}
      </div>

      <Map />

      <div className={info}>
        <b>위치 안내</b>
        <span>포항 시외버스터미널에서 차로 5분 거리</span>
        <span>포항 IC에서 차로 10분 거리</span>
      </div>

      <div className={info}>
        <b>주차 안내</b>
        <span>예식장 옆 포항시청주차장 무료 이용</span>
        <span>(동시주차 1000대)</span>
      </div>

      <div className={icon}>
        <LocationSvg />
      </div>
    </section>
  );
}

function Map() {
  return (
    <>
      <Script
        type="text/javascript"
        src={`//dapi.kakao.com/v2/maps/sdk.js?appkey=${process.env.NEXT_PUBLIC_KAKAO_JS_KEY}&autoload=false&libraries=services`}
        strategy="afterInteractive"
        onLoad={() => {
          const kakao = window.kakao;
          kakao.maps.load(() => {
            const mapContainer = document.getElementById("map");
            const mapOption = {
              center: new kakao.maps.LatLng(
                36.01770625093597,
                129.34103582889725
              ),
              level: 5,
            };
            const map = new kakao.maps.Map(mapContainer, mapOption);
            const geocoder = new kakao.maps.services.Geocoder();
            geocoder.addressSearch(
              "경북 포항시 남구 대이로 18",
              (result: any) => {
                const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                const marker = new kakao.maps.Marker({
                  map: map,
                  position: coords,
                });

                const infowindow = new kakao.maps.InfoWindow({
                  content:
                    '<div style="width:150px;text-align:center;padding:3px 0;font-size:14px;">UA컨벤션</div>',
                });

                infowindow.open(map, marker);

                map.setCenter(coords);

                kakao.maps.event.addListener(marker, "click", function () {
                  window.open(kakaoMapUrl);
                });
              }
            );
          });
        }}
      />
      <div id="map" style={{ width: "100%", height: "200px" }} />
    </>
  );
}

function LocationSvg() {
  return (
    <svg
      width="59"
      height="96"
      viewBox="0 0 59 96"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clipPath="url(#clip0_3_306)">
        <path
          d="M43.9242 38.9072C44.586 39.0168 46.0113 38.0742 46.3271 37.8092C47.8477 36.565 45.6022 33.7001 44.8214 32.3923C43.2012 29.8575 41.1476 27.7497 38.6608 26.0688C40.2494 26.6038 41.7206 27.3006 43.1553 28.2181C44.8105 29.172 46.7831 31.2211 48.6511 31.7117C50.0779 32.1292 51.554 30.6057 51.7287 29.0027C52.0352 26.8776 48.3802 25.9552 46.9312 25.3981C44.276 24.4599 41.4891 24.0439 38.6292 24.069C41.5622 23.6026 44.5253 23.7759 47.4138 23.0301C48.7296 22.7493 52.1768 21.9148 51.6453 19.9229C51.0471 17.5121 46.8349 18.0387 45.1811 18.4448C43.3877 18.8732 41.7418 19.7793 40.1768 20.7442C41.918 19.5365 43.6591 18.3289 45.5399 17.099C47.362 15.9501 49.9411 14.6092 47.6305 12.6854C45.1579 10.6442 43.8215 12.1455 41.912 14.0959C40.1788 15.8035 38.6296 17.7682 37.2201 19.7107C38.4456 17.5111 39.6932 15.4512 40.0727 12.8848C40.3061 11.2009 40.5158 8.01723 37.8622 8.4392C34.7895 8.92779 33.4718 14.1493 33.5113 16.6489C33.5335 16.7886 33.4748 16.8696 33.5557 16.9283C33.2828 16.1125 32.9877 15.157 32.7148 14.3412C31.9626 12.3129 31.6487 7.63724 28.6807 9.68438C25.2571 12.0187 27.1661 16.3691 29.6258 20.1308C28.3896 19.1102 27.1168 18.3102 25.5868 17.6942C24.2775 17.1149 20.7177 15.8909 19.6971 17.1272C19.0876 17.7969 19.8541 19.465 20.0239 20.0824C20.3634 21.3172 20.7681 21.6109 21.6949 22.0363C21.7759 22.095 21.9965 22.1315 22.0774 22.1902C20.6363 22.133 18.9603 22.3995 18.8222 23.7819C18.6474 25.3848 21.6041 26.4182 22.8468 26.5786C25.4941 27.0169 28.2208 26.1537 30.8745 25.7317C29.1032 26.2998 27.2954 27.0884 25.6718 28.1342C24.4449 28.9737 22.0197 29.9321 22.9258 31.578C25.3204 36.2808 31.7978 29.7376 34.4851 26.3748C34.1771 27.1397 33.8104 27.9856 33.4072 29.0521C30.1929 34.5036 26.8168 39.8376 22.4471 44.3272C17.7029 49.1627 11.7066 51.9778 6.12294 55.5864C6.06421 55.6674 5.92454 55.6896 5.86581 55.7705C6.48172 54.2406 7.0167 52.6519 7.55167 51.0633C16.2016 47.8263 12.1744 36.0084 10.7338 29.6504C10.6085 29.3123 10.2482 29.298 10.153 29.5995C8.19418 33.4909 6.77976 37.6538 5.80655 41.8897C5.13339 44.8607 4.07135 48.5379 7.04383 50.5712C6.35488 52.5424 5.58499 54.4548 4.89604 56.4259C4.06594 57.0591 3.1549 57.6336 2.34701 58.4064C2.28828 58.4874 2.20734 58.4286 2.14861 58.5096C2.00895 58.5318 2.03116 58.6714 1.97243 58.7524C-0.613128 60.9535 -2.85272 63.5292 -4.6289 66.3176C-4.17486 64.6702 -3.82397 62.8244 -3.61275 61.0009C-3.55402 60.9199 -3.55402 60.9199 -3.49529 60.839C-2.38242 56.5809 -2.62969 52.3243 -4.41328 48.3119C-4.51643 48.1135 -4.81797 48.0183 -4.99416 48.2611C-7.27669 51.9176 -7.48345 57.8216 -4.33329 60.9722C-4.57314 63.5164 -5.23199 66.1271 -5.84 68.1569C-5.84 68.1569 -5.89873 68.2379 -5.81779 68.2966C-6.41939 69.4663 -7.07972 70.7168 -7.60038 71.9452C-7.65911 72.0262 -7.85751 72.1293 -7.91623 72.2102C-8.03369 72.3721 -8.07021 72.5927 -7.90833 72.7102C-9.33065 76.3731 -10.1277 80.3662 -10.2042 84.3879C-10.2185 84.7482 -9.55666 84.8577 -9.54235 84.4975C-9.48807 80.3361 -8.63232 76.2621 -7.09254 72.4373C-4.84505 70.3615 -2.42779 68.9031 0.298922 68.04C0.321132 68.1796 0.40207 68.2384 0.563946 68.3558C7.16776 69.8117 13.8066 69.6868 20.3043 68.224C20.5837 68.1796 20.7376 67.7971 20.4948 67.6209C14.6022 64.3336 6.07015 61.1079 0.886211 67.2306C-1.70083 68.0716 -4.16251 69.2506 -6.37349 71.1057C-5.61791 69.5536 -4.92106 68.0824 -4.00361 66.6478C-2.05124 63.6165 0.350224 61.1583 2.93578 58.9572C7.38142 56.7467 12.3206 55.3885 17.32 55.3095C17.3422 55.4492 17.4231 55.5079 17.504 55.5666C19.9608 56.608 22.5572 57.6271 25.241 57.8447C27.9835 57.9814 30.3277 56.9643 32.7307 55.8662C32.9878 55.6821 32.9434 55.4028 32.7006 55.2266C30.1629 54.1265 27.3745 52.3503 24.5732 52.2946C21.9926 52.2753 19.4135 53.6162 17.047 54.4937C16.9074 54.5159 16.8486 54.5969 16.8709 54.7365C12.9523 54.8585 9.08604 55.7596 5.30863 57.2195C5.30863 57.2195 5.30863 57.2195 5.36736 57.1385C6.9101 56.034 8.53379 54.9883 10.1797 54.0822C15.2935 51.121 20.1059 48.0646 24.1374 43.7004C27.4198 40.0281 30.077 36.0256 32.6309 31.8247C31.6863 35.3401 31.5432 38.9428 34.4841 38.9764C38.4471 39.1338 37.4334 33.2091 36.3481 29.0857C37.424 31.349 38.9776 33.4647 40.59 35.4995C41.2819 36.2487 42.6593 38.6072 43.9242 38.9072ZM7.37643 38.7045C8.15274 35.9319 9.17185 33.3355 10.3528 30.8565C11.83 36.994 15.032 47.2247 7.88183 50.438C8.66603 48.1653 9.28836 45.7752 9.5282 43.2311C9.60124 42.7899 8.8807 42.7613 8.86639 43.1215C8.60434 45.526 8.04074 47.8352 7.31527 50.0269C4.21742 47.6555 6.42394 41.7199 7.37643 38.7045ZM-4.69903 49.2166C-3.5121 52.1782 -3.16317 55.2731 -3.59351 58.4202C-3.66804 57.5013 -3.88223 56.6046 -4.29482 55.811C-4.50111 55.4142 -5.03756 55.6427 -4.89 56.1204C-4.41079 57.333 -4.1887 58.7297 -4.24594 60.1708C-6.43275 57.2249 -6.40858 52.424 -4.69903 49.2166ZM19.2965 67.7399C13.2766 69.0551 7.19638 69.0911 1.19565 67.8258C4.48102 66.8738 8.09804 66.6566 11.7817 66.8584C12.2229 66.9315 12.2515 66.2109 11.8912 66.1966C8.42821 66.0313 5.14925 66.1231 1.98134 66.9132C6.74776 62.2174 13.9705 64.8636 19.2965 67.7399ZM25.5445 52.9993C27.6918 53.4455 29.8692 54.5312 31.8038 55.4408C29.4596 56.4579 27.1519 57.2545 24.6078 57.0146C22.5636 56.7669 20.5925 56.0779 18.7388 55.2271C19.68 55.2922 20.6211 55.3574 21.5623 55.4225C22.0035 55.4956 22.0321 54.775 21.6718 54.7607C20.5688 54.5781 19.4293 54.6161 18.2675 54.5145C20.5752 53.7179 23.0369 52.5389 25.5445 52.9993ZM48.9768 27.006C50.1465 27.6076 50.9781 28.3345 50.5828 29.9009C50.3557 30.7246 49.7971 30.8135 49.0765 30.7849C47.7751 30.7054 46.4357 29.4864 45.3248 28.8039C44.2948 28.1801 43.3458 27.615 42.3158 26.9912C40.5208 26.0594 38.6894 25.3482 36.8214 24.8577C39.5782 24.6341 42.4016 24.8295 45.0933 25.5471C46.5201 25.9646 47.7485 26.4853 48.9768 27.006ZM42.3528 20.4698C43.5431 19.8509 44.8367 19.4304 46.1524 19.1496C46.8507 19.0385 47.9458 18.7212 48.5711 19.0514C49.2107 19.0213 49.498 19.4768 49.2932 20.4401C50.0882 21.3877 49.9565 21.9098 49.1185 22.0431C47.6567 23.2063 44.4142 23.0775 42.6351 23.1456C40.5766 23.2582 38.4594 23.4516 36.4897 24.1228C36.2913 24.226 36.2326 24.3069 36.3358 24.5053C36.277 24.5863 36.2183 24.6672 36.2405 24.8069C36.1596 24.7481 36.0786 24.6894 35.9977 24.6307C35.8358 24.5132 35.6374 24.6164 35.6009 24.837C35.5422 24.9179 35.4247 25.0798 35.5279 25.2782C35.5057 25.1385 35.4835 24.9988 35.2628 24.9623C35.3216 24.8814 35.4612 24.8592 35.52 24.7782C37.8563 23.2611 39.9498 21.5679 42.3528 20.4698ZM39.3359 18.1571C40.239 17.0827 41.1421 16.0083 42.1262 14.9927C42.5595 14.5658 43.2056 13.6755 43.8007 13.366C44.7118 12.7915 49.0637 12.2427 47.589 15.1264C47.0017 15.9358 45.194 16.7244 44.4813 17.1957C43.3719 17.8733 42.4021 18.5287 41.2927 19.2064C39.2944 20.5981 37.3184 22.1295 35.4232 23.7196C36.6121 21.7406 37.9042 19.96 39.3359 18.1571ZM34.3177 14.5159C34.64 13.3907 35.4385 10.7578 36.5701 10.2198C37.5113 10.285 38.5334 10.4088 39.4745 10.474C39.4824 10.9739 39.4316 11.5548 39.5204 12.1135C39.4331 12.9149 39.3457 13.7164 39.1187 14.5401C38.7599 15.8859 38.0996 17.1365 37.4171 18.2475C36.3456 20.0646 35.3916 21.7199 34.7836 23.7497C34.7249 23.8307 34.6074 23.9925 34.5487 24.0735C34.2092 22.8387 34.149 21.5595 34.0887 20.2803C34.1174 19.5597 34.2857 18.817 34.2333 18.0377C34.1731 16.7585 34.0764 15.6999 34.3177 14.5159ZM29.3593 18.4548C28.6595 17.2057 27.7756 15.6994 27.4726 14.244C27.0585 12.0903 29.0617 8.47821 30.7708 11.5716C32.0451 13.7317 33.0193 17.1568 33.1984 19.6343L33.2206 19.7739C33.1047 21.296 32.9887 22.818 33.4314 24.2512C33.2473 23.994 33.0045 23.8178 32.7395 23.502C31.635 21.9592 30.4273 20.2181 29.3593 18.4548ZM20.3683 19.0969C19.8161 18.3255 20.0288 17.8621 20.889 17.8685C22.873 16.837 26.2644 18.8037 27.861 19.8386C29.2957 20.756 30.4145 21.9385 31.5333 23.121C31.7983 23.4369 32.0633 23.7527 32.3284 24.0686C30.2985 23.4605 28.2909 22.9922 26.2245 22.6048C25.0993 22.2825 23.7756 22.0634 22.7679 21.5793C21.4664 21.4998 20.7523 20.611 20.3683 19.0969ZM22.9564 25.9168C20.8757 25.8897 20.6393 24.8533 22.0266 22.7711C22.6075 22.822 23.1074 22.8141 23.6295 22.9458C24.0708 23.0189 24.512 23.0919 24.9532 23.1649C27.5861 23.9635 30.3952 24.5192 32.9838 25.0383C29.6239 25.0714 26.2067 26.5456 22.9564 25.9168ZM27.8665 31.58C26.6983 32.3385 22.7511 33.181 23.6306 30.6068C23.7623 30.0846 25.0336 29.5245 25.4892 29.2372C26.5177 28.5009 27.6493 27.963 28.7809 27.425C30.3094 26.6808 32.0219 26.1937 33.6757 25.7875C33.8376 25.9049 33.9407 26.1033 34.0216 26.1621C32.9423 27.4793 31.8408 28.6568 30.5186 29.7979C29.6885 30.431 28.7775 31.0055 27.8665 31.58ZM35.1301 38.0861C32.0209 38.7953 32.9927 33.1992 33.2118 31.8756C33.3214 31.2138 33.5706 30.5297 33.6801 29.8679C34.1278 29.0808 34.5754 28.2936 35.0817 27.4255C36.2766 30.887 37.9013 37.5022 35.1301 38.0861ZM35.6532 25.6162C35.712 25.5353 35.6897 25.3956 35.6675 25.256L35.7485 25.3147C35.9691 25.3512 36.1087 25.329 36.2706 25.4465C38.9337 26.8846 41.1634 28.7496 43.0408 31.1002C43.939 32.2462 44.6388 33.4953 45.2799 34.8253C45.5893 35.4205 46.0463 36.4934 45.6574 37.1997C45.5987 37.2806 45.2384 37.2663 45.1797 37.3472C43.2402 38.658 41.1407 34.9107 40.0584 33.5076C38.1811 31.157 36.6196 28.5413 35.6532 25.6162Z"
          fill="#FFBE98"
        />
      </g>
      <defs>
        <clipPath id="clip0_3_306">
          <rect
            width="35.3"
            height="92.2"
            fill="white"
            transform="translate(30.1479) rotate(35.9648)"
          />
        </clipPath>
      </defs>
    </svg>
  );
}
